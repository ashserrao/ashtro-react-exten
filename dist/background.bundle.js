(()=>{let e=[],o=null;console.log("background.js is working"),chrome.runtime.onMessage.addListener(((r,c,t)=>{"recording-page"===r.action?chrome.windows.create({url:"chrome-extension://"+chrome.runtime.id+"/recording.html",type:"popup",width:690,height:750}):"id-cards"===r.action||"face-capture"===r.action?(r.data.forEach((o=>{e.push(o)})),console.log(e),t("received "+("id-cards"===r.action?"ID's":"Face photo"))):"record-tab"===r.action?(chrome.tabs.query({active:!0,currentWindow:!0},(function(e){e.length>0&&(o=e[0].id,console.log("Recorded active Tab ID: ",o))})),t("recorded-tab")):"switch-tab"===r.action&&(null!==o&&chrome.tabs.update(o,{active:!0},(function(e){chrome.runtime.lastError?console.error("Error switching back to the previous tab: ",chrome.runtime.lastError):console.log("Switched back to Tab ID: ",o)})),t("switched-tab"))}))})();