(()=>{let e=[],o=null,c=!1;function t(){const e="chrome-extension://".concat(chrome.runtime.id,"/recording.html");chrome.tabs.query({url:e},(function(o){o.length>0?chrome.tabs.update(o[0].id,{active:!0}):chrome.tabs.create({url:e})}))}console.log("background.js is working"),chrome.runtime.onMessage.addListener(((r,a,n)=>{"recording-page"===r.action?(t(),n("page triggered")):"id-cards"===r.action||"face-capture"===r.action?(r.data.forEach((o=>{e.push(o)})),console.log(e),n("received "+("id-cards"===r.action?"ID's":"Face photo"))):"record-tab"===r.action?(chrome.tabs.query({active:!0,currentWindow:!0},(function(e){e.length>0&&(o=e[0].id,console.log("Recorded active Tab ID: ",o))})),n("recorded-tab")):"switch-tab"===r.action?(null!==o&&chrome.tabs.update(o,{active:!0},(function(e){chrome.runtime.lastError?console.error("Error switching back to the previous tab: ",chrome.runtime.lastError):console.log("Switched back to Tab ID: ",o)})),n("switched-tab")):"check-recording-status"===r.action?n(c):"switch-recording-status"===r.action&&(t(),console.log(c))}))})();