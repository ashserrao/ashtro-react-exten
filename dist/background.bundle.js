(()=>{let o=[],e=null;console.log("background.js is working"),chrome.runtime.onMessage.addListener(((c,r,t)=>{"recording-page"===c.action||("id-cards"===c.action||"face-capture"===c.action?(c.data.forEach((e=>{o.push(e)})),console.log(o),t("received "+("id-cards"===c.action?"ID's":"Face photo"))):"record-tab"===c.action?(chrome.tabs.query({active:!0,currentWindow:!0},(function(o){o.length>0&&(e=o[0].id,console.log("Recorded active Tab ID: ",e))})),t("recorded-tab")):"switch-tab"===c.action&&(null!==e&&chrome.tabs.update(e,{active:!0},(function(o){chrome.runtime.lastError?console.error("Error switching back to the previous tab: ",chrome.runtime.lastError):console.log("Switched back to Tab ID: ",e)})),t("switched-tab")))}))})();